"use strict";(self.webpackChunkimgur_web=self.webpackChunkimgur_web||[]).push([[1489],{Amru:(e,t,n)=>{n.d(t,{Z:()=>z});var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("PJYZ"),c=n.n(s),l=n("7W2i"),u=n.n(l),d=n("a1gu"),p=n.n(d),m=n("Nsbk"),f=n.n(m),h=n("lSNA"),g=n.n(h),y=n("q1tI"),v=(n("17x9"),n("/MKj")),C=n("ANjH"),b=n("28IT"),w=n("JPcv"),k=n("sEfC"),S=n.n(k),I=n("TSYQ"),T=n.n(I),A=n("c+PL"),E=n("MHWf"),D=n("mIpz"),P=n("qNBE"),q=n("VeLT"),N=n("+qrI"),x=n("JCOJ"),R=n("kWpY"),W=n("ZK3p"),B=n("J4zp"),_=n.n(B),O=n("VGss"),j=n("puhG"),M=function(e){var t=e.onClose,n=(0,y.useState)(3),r=_()(n,2),i=r[0],o=r[1],a=(0,y.useRef)(i);return a.current=i,(0,y.useEffect)((function(){var e=(0,E.Zi)((function(){1===a.current&&(0,E.cv)(e),o((function(e){return e-1}))}),1e3);return function(){return(0,E.cv)(e)}}),[]),y.createElement("div",{className:"SctuCloseButton",onClick:0===i?t:function(){}},y.createElement("span",{className:"SctuCloseButton-text"},(0,j.Z)("sctuClose",i),0===i?y.createElement(O.ZP,{name:O.dq,width:"24",height:"24",viewBox:"0 0 32 32",className:"SctuCloseButton-x"}):" 00:0".concat(i)))};M.__docgenInfo={description:"",methods:[],displayName:"SctuCloseButton",props:{onClose:{type:{name:"func"},required:!0,description:""}}};const F=M;function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var U=function(e){u()(n,e);var t=Z(n);function n(e){var r;return i()(this,n),r=t.call(this,e),g()(c()(r),"receiveMessage",(function(e){if(e&&e.data&&"string"==typeof e.data){var t=e.data.match(/disableRefreshForSession:(\S+);?/);t&&t[1]?r.setState({refreshState:A.ky}):(t=e.data.match(/disableTimedRefresh:(\S+);?/))&&t[1]&&r.setState({refreshState:A.pG})}})),g()(c()(r),"resizeHandler",S()((function(){var e=r.props.updateSCTUHeightAction;r.sctuWrapper.current&&e(r.getRefHeight())}),100)),g()(c()(r),"onAdFill",(function(){r.loadCustomCreative({withCloseButton:!0}),r.resizeSctu()})),g()(c()(r),"resizeSctu",(function(){var e=r.props.updateSCTUHeightAction,t=r.getRefHeight(),n=0,i=(0,E.Zi)((function(){n>5?(0,E.cv)(i):(t!==r.getRefHeight()&&(t=r.getRefHeight(),e(t)),++n)}),50)})),g()(c()(r),"onClose",(function(){var e=r.props,t=e.onStatusChange,n=e.updateSCTUHeightAction,i=e.closeSCTUAction,o=r.state.insertionId;r.setState({closed:!0},(function(){t(),n(0)})),o&&i(o)})),g()(c()(r),"updateVisibility",(function(e){var t=r.props,n=t.onStatusChange,i=t.updateSCTUHeightAction;r.setState({show:e},(function(){n(),i(r.getRefHeight())}))})),g()(c()(r),"loadCustomCreative",(function(e){e.withCloseButton&&r.setState({withCloseButton:!0}),e.insertionId&&r.setState({insertionId:e.insertionId}),r.updateVisibility(!0)})),g()(c()(r),"getRefHeight",(function(){return r.sctuWrapper.current?r.sctuWrapper.current.offsetHeight:0})),r.state={show:!1,withCloseButton:!1,closed:!1,insertionId:"",refreshState:A.ky},r.sctuWrapper=y.createRef(),r.componentKey="sctu",(0,D.s)()||((0,E.PP)("loadCustomCreative",r.loadCustomCreative),(0,E.kZ)("message",r.receiveMessage),(0,E.kZ)("resize",r.resizeHandler)),r}return a()(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchClosedSCTUsAction)()}},{key:"componentWillUnmount",value:function(){(0,E.KZ)("message",this.receiveMessage),(0,E.KZ)("resize",this.resizeHandler)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.adsEnabled,i=n.onStatusChange,o=n.updateSCTUHeightAction;e.adsEnabled&&!r&&this.setState({closed:!0},(function(){i(),o(t.getRefHeight())}))}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.pathname,i=n.adsEnabled,o=n.streamIsWhitelisted,a=n.postAdConfig,s=this.state,c=s.show,l=s.withCloseButton,u=s.closed;return o!==e.streamIsWhitelisted||(i!==e.adsEnabled||(r!==e.pathname||(a!==e.postAdConfig||(c!==t.show||(l!==t.withCloseButton||u!==t.closed)))))}},{key:"isTagPage",value:function(){return(0,q.ax)((0,E.Jz)())===x.Kg}},{key:"shouldHide",value:function(){var e=this.props,t=e.adsEnabled,n=e.streamIsWhitelisted,r=e.match,i=e.postAdConfig,o=this.state.closed;return!(t&&!o)||(!(!r.params.galleryId||i)||this.isTagPage()&&!n)}},{key:"getSlotTargeting",value:function(){var e=this.props,t=e.sctusClosed,n=e.slotTargeting,r=e.streamParam,i=H({},n);return r&&this.isTagPage()&&(i=H(H({},i),{},{item_tag:r})),t.size>0?H(H({},i),{},{HLClose:t.toJS()}):i}},{key:"getKey",value:function(){var e=this.props.pathname;if(this.state.refreshState===A.ky)return this.componentKey;return this.componentKey="".concat("sctu").concat(e),this.componentKey}},{key:"render",value:function(){if(this.shouldHide())return null;var e=this.state,t=e.show,n=e.withCloseButton,r=T()({"Ad-SCTU":!0,"Ad-SCTU-footliner":!1});return y.createElement("div",{className:r,ref:this.sctuWrapper,key:this.getKey(),style:{display:t?"block":"none"}},y.createElement(W.ZP,{elementID:"SCTU-Ad",adUnitID:A.lf,onAdLoad:this.onAdFill}),n&&y.createElement(F,{onClose:this.onClose}))}}]),n}(y.Component);U.defaultProps={sctusClosed:(0,w.List)(),slotTargeting:{},coverFixed:!1},U.__docgenInfo={description:"",methods:[{name:"receiveMessage",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"onAdFill",docblock:null,modifiers:[],params:[],returns:null},{name:"resizeSctu",docblock:null,modifiers:[],params:[],returns:null},{name:"isTagPage",docblock:null,modifiers:[],params:[],returns:null},{name:"shouldHide",docblock:null,modifiers:[],params:[],returns:null},{name:"onClose",docblock:null,modifiers:[],params:[],returns:null},{name:"updateVisibility",docblock:null,modifiers:[],params:[{name:"show",type:null}],returns:null},{name:"loadCustomCreative",docblock:null,modifiers:[],params:[{name:"config",type:null}],returns:null},{name:"getRefHeight",docblock:null,modifiers:[],params:[],returns:null},{name:"getSlotTargeting",docblock:null,modifiers:[],params:[],returns:null},{name:"getKey",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Sctu",props:{sctusClosed:{defaultValue:{value:"List()",computed:!0},type:{name:"instanceOf",value:"List"},required:!1,description:""},slotTargeting:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},coverFixed:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onStatusChange:{type:{name:"func"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},streamIsWhitelisted:{type:{name:"bool"},required:!1,description:""},streamParam:{type:{name:"string"},required:!1,description:""},closeSCTUAction:{type:{name:"func"},required:!0,description:""},fetchClosedSCTUsAction:{type:{name:"func"},required:!0,description:""},pathname:{type:{name:"string"},required:!1,description:""},updateSCTUHeightAction:{type:{name:"func"},required:!0,description:""},postAdConfig:{type:{name:"object"},required:!1,description:""},postTags:{type:{name:"instanceOf",value:"List"},required:!1,description:""},match:{type:{name:"object"},required:!0,description:""},location:{type:{name:"object"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""}}};const z=(0,C.qC)((0,v.$j)((function(e){var t=e.ad,n=e.user,r=e.gallery,i=e.history,o=e.postsData,a=e.ui,s=(0,R.M4)(t,n,null==o?void 0:o.get("currentPost"));return t.getIn(["transformation","enabled"])&&(s=!1),{adsEnabled:s,streamIsWhitelisted:r.get("streamIsWhitelisted"),streamParam:r.get("streamParam"),sctusClosed:t.get("sctusClosed"),pathname:i.getIn(["location","pathname"]),postAdConfig:o.getIn(["currentPost","adConfig"]),coverFixed:a.cover.get("fixed"),postTags:o.getIn(["currentPost","tags"])}}),{closeSCTUAction:P.k_,fetchClosedSCTUsAction:P.rV,updateSCTUHeightAction:N.Bn}),b.Z)(U)},dONk:(e,t,n)=>{n.d(t,{ZP:()=>j});var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("PJYZ"),c=n.n(s),l=n("7W2i"),u=n.n(l),d=n("a1gu"),p=n.n(d),m=n("Nsbk"),f=n.n(m),h=n("lSNA"),g=n.n(h),y=n("q1tI"),v=(n("17x9"),n("/MKj")),C=n("sEfC"),b=n.n(C),w=n("vWou"),k=n("puhG"),S=n("qNBE"),I=n("MHWf"),T=n("Janf"),A=n("txC3"),E=n("HMNm"),D=n("5bgp"),P=n("4ELA"),q=n("mOu4"),N=n("I0Vi");n("cKUy");function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var R=function(e){u()(n,e);var t=x(n);function n(){var e;i()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),g()(c()(e),"handleCloseWithAnalytics",(function(t){var n=e.props,r=n.whitelistedClosedAction,i=n.closeAdblockDialogAction;r(t,"Popup"),i()})),g()(c()(e),"handleClose",(function(){e.handleCloseWithAnalytics("No Thanks")})),g()(c()(e),"onWhitelisted",(function(){e.handleCloseWithAnalytics("Whitelisted"),(0,I.H5)()})),e}return a()(n,[{key:"render",value:function(){return y.createElement(P.U,{className:"AdblockDialog",name:S.iH,onClose:this.handleClose,isModal:!1},y.createElement("div",{className:"AdblockDialog-content"},y.createElement(q.ZP,{name:q.Eo,className:"Footer-whitelist-baby",width:140}),y.createElement("h2",null,(0,k.Z)("WhitelistDialogTitle")),(0,k.Z)("WhitelistDialogDescription")),y.createElement("div",{className:"AdblockDialog-footer"},y.createElement(E.Z,{to:"/emerald?source=adBlockRecoverUpload"},(0,k.Z)("popOverSupportImgur")),y.createElement(D.zx,{className:"AdblockDialog-footer-whitelisted",onClick:this.onWhitelisted,label:(0,k.Z)("WhitelistDialogWhitelisted")})),y.createElement(N.h9,{onClick:this.handleClose}))}}]),n}(y.Component);R.__docgenInfo={description:"",methods:[{name:"handleCloseWithAnalytics",docblock:null,modifiers:[],params:[{name:"way",type:null}],returns:null},{name:"handleClose",docblock:null,modifiers:[],params:[],returns:null},{name:"onWhitelisted",docblock:null,modifiers:[],params:[],returns:null}],displayName:"AdblockDialog2",props:{whitelistedClosedAction:{type:{name:"func"},required:!0,description:""},closeAdblockDialogAction:{type:{name:"func"},required:!0,description:""}}};const W=(0,v.$j)(null,{whitelistedClosedAction:S.b$,closeAdblockDialogAction:S.Tn})(R);var B=n("sCW7");function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var O=function(e){u()(n,e);var t=_(n);function n(e){var r;return i()(this,n),r=t.call(this,e),g()(c()(r),"_container",null),r.updateFooterItems=b()(r.updateFooterItems.bind(c()(r)),250),r.state={childrenDisplay:[],childrenRest:[],footerItems:w.aA.map((function(e){return{title:(0,k.Z)("".concat(e,"Footer")),href:w.lW[e].href}}))},r}return a()(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.width,i=n.showWhitelistDialog,o=n.closedWhitelistDialog,a=n.whitelistedDisplayedAction,s=n.openAdblockDialogAction,c=this.state.footerItems;e.width===r&&t.footerItems.length===c.length||this.updateFooterItems(r),e.showWhitelistDialog||e.closedWhitelistDialog||!i||o||(a(),s())}},{key:"componentDidMount",value:function(){var e=this.props.width;this.updateFooterItems(e)}},{key:"updateFooterItems",value:function(e){var t,n,r,i,o=this.state.footerItems,a=(t=this.measure.children,n=e,r=o,i=Array.from(t).map((function(e,t){var r=e.getBoundingClientRect(),i=r.left,o=r.width;return!t||i+o<n-275})),{childrenRest:r.filter((function(e,t){return!i[t]})),childrenDisplay:r.filter((function(e,t){return i[t]}))}),s=a.childrenRest,c=a.childrenDisplay,l=this.state.childrenRest;this.footerUpdated=s.length!==l.length||c.length!==l.length,this.setState({childrenRest:s,childrenDisplay:c})}},{key:"renderDropdown",value:function(){var e=this.state.childrenRest,t=void 0===e?[]:e;return t.length?y.createElement(B.ZP,{className:"center",placeholder:" ",dropdownIcon:y.createElement("img",{src:q.UZ[q.qP],className:"Dropdown-icon icon-points"})},t.map((function(e,t){return y.createElement("div",{key:"footer-dropdown-".concat(t),className:"Dropdown-option"},e.href?y.createElement("a",{href:e.href},e.title):y.createElement("div",{className:"Footer-optionText"},e.title))}))):null}},{key:"render",value:function(){var e=this,t=this.state,n=t.childrenDisplay,r=void 0===n?[]:n,i=t.footerItems,o=this.props,a=o.isFooterVisible,s=o.showWhitelistDialog,c=o.closedWhitelistDialog;return y.createElement("div",{className:"Footer-wrapper".concat(a?"":" down")},s&&!c&&y.createElement(W,null),y.createElement("div",{className:"Footer"},y.createElement("ul",{ref:function(t){e.menu=t},className:"Footer-navbar"},r.map((function(e,t){return y.createElement("li",{key:"footer-item-".concat(t)},e.href?y.createElement("a",{href:e.href},e.title):e.title)}))),this.renderDropdown(),y.createElement("div",{ref:function(t){e.appBtn=t},className:"Footer-app"},y.createElement("a",{href:"".concat(w.lW[w.j].href)},(0,k.Z)("getAppFooter")))),y.createElement("div",{className:"Footer Footer-measure"},y.createElement("ul",{ref:function(t){e.measure=t},className:"Footer-navbar Footer-navbar-dimensions"},i.map((function(e,t){return y.createElement("li",{key:"footer-item-".concat(t)},e.href?y.createElement("a",{href:e.href},e.title):e.title)})))))}}]),n}(y.Component);O.defaultProps={width:0},O.__docgenInfo={description:"",methods:[{name:"updateFooterItems",docblock:null,modifiers:[],params:[{name:"width",type:null}],returns:null},{name:"renderDropdown",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Footer",props:{width:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},isFooterVisible:{type:{name:"bool"},required:!1,description:""},closedWhitelistDialog:{type:{name:"bool"},required:!0,description:""},showWhitelistDialog:{type:{name:"bool"},required:!1,description:""},whitelistedDisplayedAction:{type:{name:"func"},required:!0,description:""},openAdblockDialogAction:{type:{name:"func"},required:!0,description:""}}};const j=(0,v.$j)((function(e){var t=e.ui,n=e.display,r=e.user,i=e.postsData;return{isFooterVisible:t.footer.get("isFooterVisible"),closedWhitelistDialog:t.footer.get("closedWhitelistDialog"),width:n.getIn(["viewPort","width"]),showWhitelistDialog:(0,I.fL)()&&!(0,T.h2)(S.cz)&&r.get("isLoaded")&&!r.get("hasPaid")&&(!r.get("isLoggedIn")||r.get("isLoggedIn")&&!r.getIn(["subscription","isSubscribed"]))&&(0,A.FD)(i.getIn(["currentPost","adConfig"]))}}),{whitelistedDisplayedAction:S.do,openAdblockDialogAction:S.T5})(O)},"d/qw":(e,t,n)=>{n.d(t,{yM:()=>B});var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("PJYZ"),c=n.n(s),l=n("7W2i"),u=n.n(l),d=n("a1gu"),p=n.n(d),m=n("Nsbk"),f=n.n(m),h=n("lSNA"),g=n.n(h),y=n("q1tI"),v=n("/MKj"),C=(n("17x9"),n("MHWf"));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var w=function(e){u()(n,e);var t=b(n);function n(){var e;i()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),g()(c()(e),"_ticking",!1),g()(c()(e),"_mounted",!1),g()(c()(e),"_items",[]),g()(c()(e),"_canvas",null),g()(c()(e),"_canvasContext",null),g()(c()(e),"_imagesReady",!1),g()(c()(e),"setCanvasContext",(function(t){t&&(e._canvas=t,e._canvasContext=t.getContext("2d"))})),g()(c()(e),"drawCanvas",(function(){var t=e._canvasContext.canvas,n=t.width,r=t.height;e._canvasContext.clearRect(0,0,n,r),e.updateItems(e._items),e.renderItems()})),g()(c()(e),"runAnimation",(function(){e._mounted&&!e._ticking&&e.props.shouldAnimate&&((0,C.U7)((function(){e.drawCanvas(),e._ticking=!1,e.runAnimation()})),e._ticking=!0)})),e}return a()(n,[{key:"updateItems",value:function(e){var t=this._canvasContext.canvas,n=t.width,r=t.height;this._items=e.map(this.props.updateItem({canvasWidth:n,canvasHeight:r}))}},{key:"renderItems",value:function(){this._items.forEach(this.props.renderItem(this._canvasContext))}},{key:"componentDidMount",value:function(){this._mounted=!0,this.props.width&&this.updateItems(this.props.items),this.props.shouldAnimate&&this.runAnimation()}},{key:"componentDidUpdate",value:function(e){this.props.width!==e.width&&this.updateItems(this.props.items),this.props.height&&this.props.height!==e.height&&this.updateItems(this.props.items),this.props.items.length!==e.items.length&&this.updateItems(this.props.items)}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.width;return y.createElement("canvas",{ref:this.setCanvasContext,width:n,height:t})}}]),n}(y.Component);w.defaultProps={mousePos:{}},w.__docgenInfo={description:"",methods:[{name:"setCanvasContext",docblock:null,modifiers:[],params:[{name:"canvasElem",type:null}],returns:null},{name:"drawCanvas",docblock:null,modifiers:[],params:[],returns:null},{name:"runAnimation",docblock:null,modifiers:[],params:[],returns:null},{name:"updateItems",docblock:null,modifiers:[],params:[{name:"items",type:null}],returns:null},{name:"renderItems",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Canvas",props:{mousePos:{defaultValue:{value:"{}",computed:!1},required:!1},width:{type:{name:"number"},required:!0,description:""},height:{type:{name:"number"},required:!0,description:""},items:{type:{name:"array"},required:!0,description:""},updateItem:{type:{name:"func"},required:!0,description:""},renderItem:{type:{name:"func"},required:!0,description:""},shouldAnimate:{type:{name:"bool"},required:!1,description:""}}};const k=w;var S=n("RIqP"),I=n.n(S),T=n("D0BC"),A=n.n(T),E=n("yCxd");function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q={color:n.n(E)().$ssSnowflakeColor,radius:[.1,1],speed:[1.25,1],wind:[-.5,1]};function N(e,t){var n=t.canvasWidth,r=t.canvasHeight,i=P(P({},q),e),o=i.radius,a=i.speed,s=i.wind,c=i.color;return function(){return{color:c,x:A()(0,n),y:A()(-r,0),radius:A().apply(void 0,I()(o)),speed:A().apply(void 0,I()(a)),wind:A().apply(void 0,I()(s))}}}function x(e){var t=e.canvasWidth,n=e.canvasHeight;return function(e){return e.y>=n?Object.assign(e,{y:0,x:A()(0,t)}):Object.assign(e,{y:e.y+e.speed,x:e.x+e.wind})}}function R(e,t){return function(n){return function(r){if(t>0){var i=e-r.y,o=i<t?i/t:1;n.globalAlpha=o}n.beginPath(),n.arc(r.x,r.y,r.radius,0,2*Math.PI),n.fillStyle=r.color,n.fill(),n.closePath()}}}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var B=function(e){u()(n,e);var t=W(n);function n(e){var r;i()(this,n),r=t.call(this,e),g()(c()(r),"getSnowflakesQuantity",(function(){var e=r.props;return e.width*e.height/(1e6/e.density)}));var o=r.props,a=o.width,s=o.height;return r.state={items:Array.from({length:r.getSnowflakesQuantity()},N({},{canvasWidth:a,canvasHeight:s}))},r}return a()(n,[{key:"updateItems",value:function(){var e=this.props,t=e.width,n=e.height;if(t&&n){var r=this.state.items,i=this.getSnowflakesQuantity();i!==r.length&&this.setState((function(e){var r=e.items.filter(function(e,t){return function(n){return n.x<e&&n.y>0&&n.y<t}}(t,n));return i>r.length?{items:r.concat(Array.from({length:i-r.length},N({},{canvasWidth:t,canvasHeight:n})))}:{items:r.slice(0,i)}}))}}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.width,r=t.height;e.width===n&&e.height===r||this.updateItems()}},{key:"render",value:function(){var e=this.props,t=e.isFixed,n=e.width,r=e.height,i=e.hideOffset,o=this.state.items;return y.createElement("div",{style:{position:t?"fixed":"absolute"},className:"SnowFlakesBg"},y.createElement(k,{width:n,height:r,items:o,updateItem:x,renderItem:R(r,i),shouldAnimate:!0}))}}]),n}(y.Component);B.defaultProps={width:0,height:0,density:2e3,hideOffset:0},B.__docgenInfo={description:"",methods:[{name:"getSnowflakesQuantity",docblock:null,modifiers:[],params:[],returns:null},{name:"updateItems",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SnowFlakesBg",props:{width:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},height:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},density:{defaultValue:{value:"2000",computed:!1},type:{name:"number"},required:!1,description:""},hideOffset:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},isFixed:{type:{name:"bool"},required:!1,description:""}}};(0,v.$j)((function(e,t){var n=e.display,r=t.height;return{width:n.getIn(["viewPort","width"]),height:r||n.getIn(["viewPort","height"]),isFixed:!0}}),null)(B)},e2tm:(e,t,n)=>{n.d(t,{Z:()=>z});var r=n("q1tI"),i=n("17x9"),o=n.n(i),a=n("pVnL"),s=n.n(a);var c={primaryColor:"#8935c7",primaryGradient:"linear-gradient(to right, rgba(255, 88, 182, 1), rgba(255, 88, 182, 0))",secondaryGradient:"linear-gradient(to right, rgba(255, 88, 182, 0.4), rgba(137, 53, 199, 0))",buttonGradient:"linear-gradient(to top, rgba(254, 106, 255, 0.62), #db53dc)",buttonShadow:"rgba(119, 43, 120, 0.7) 6px 12px 32px 1px"},l={primaryColor:"#3149c9",primaryGradient:"linear-gradient(to right, rgba(6, 158, 94, 1), rgba(6, 158, 94, 0))",secondaryGradient:"linear-gradient(to right, rgba(6, 158, 182, 0.4), rgba(49, 73, 201, 0))",buttonGradient:"linear-gradient(to top, rgba(139, 173, 255, 0.62), #2f6dfc)",buttonShadow:"rgba(24, 54, 155, 0.7) 6px 12px 32px 1px"};var u=n("lwsE"),d=n.n(u),p=n("W8MJ"),m=n.n(p),f=n("7W2i"),h=n.n(f),g=n("a1gu"),y=n.n(g),v=n("Nsbk"),C=n.n(v),b=n("mOu4");function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var i=C()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y()(this,n)}}var k=function(e){h()(n,e);var t=w(n);function n(){return d()(this,n),t.apply(this,arguments)}return m()(n,[{key:"componentDidMount",value:function(){(0,this.props.handleOnMount)()}},{key:"render",value:function(){var e=this.props,t=e.headline,n=e.subhead,i=e.actionButtonText,o=e.onClose,a=e.primaryColor,s=e.primaryGradient,c=e.secondaryGradient,l=e.bgImageSrc,u=e.buttonGradient,d=e.buttonShadow,p=e.url;return r.createElement("div",{className:"BannerTop3"},r.createElement("div",{style:{backgroundColor:a},className:"BannerTop3-layer"},r.createElement("div",{style:{backgroundImage:s},className:"BannerTop3-layer"})),r.createElement("div",{className:"BannerTop3-content BannerTop3-layer"},r.createElement("div",{style:{backgroundImage:c,zIndex:2},className:"BannerTop3-layer"}),r.createElement("div",{className:"BannerTop3-spacer--first"}),r.createElement("div",{className:"BannerTop3-description"},r.createElement("div",{className:"BannerTop3-headline BannerTop3-textOverflow"},t),r.createElement("div",{className:"BannerTop3-subhead"},n),l&&r.createElement("img",{src:l})),r.createElement("div",{className:"BannerTop3-spacer"}),r.createElement("a",{href:p,target:"_blank",style:{backgroundImage:u,boxShadow:d},className:"BannerTop3-buttonCTA"},r.createElement("span",null,i)),r.createElement("div",{className:"BannerTop3-spacer--last"}),r.createElement("div",{className:"BannerTop3-buttonClose",onClick:o},r.createElement(b.ZP,{name:b.Wj,width:13}))))}}]),n}(r.Component);k.__docgenInfo={description:"",methods:[],displayName:"Default",props:{headline:{type:{name:"string"},required:!0,description:""},subhead:{type:{name:"string"},required:!0,description:""},actionButtonText:{type:{name:"string"},required:!0,description:""},onClose:{type:{name:"func"},required:!0,description:""},bgImageSrc:{type:{name:"string"},required:!1,description:""},url:{type:{name:"string"},required:!0,description:""},handleOnMount:{type:{name:"func"},required:!0,description:""},primaryColor:{type:{name:"string"},required:!0,description:""},primaryGradient:{type:{name:"string"},required:!0,description:""},secondaryGradient:{type:{name:"string"},required:!0,description:""},buttonGradient:{type:{name:"string"},required:!0,description:""},buttonShadow:{type:{name:"string"},required:!0,description:""}}};var S=n("PJYZ"),I=n.n(S),T=n("lSNA"),A=n.n(T),E=n("VQbN");function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var i=C()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y()(this,n)}}var P=function(e){h()(n,e);var t=D(n);function n(){var e;d()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),A()(I()(e),"onBannerClose",(function(t){var n=e.props.onClose;t.stopPropagation(),t.preventDefault(),n()})),e}return m()(n,[{key:"componentDidMount",value:function(){(0,this.props.handleOnMount)()}},{key:"render",value:function(){var e=this.props,t=e.headline,n=e.subhead,i=e.actionButtonText,o=e.onClick,a=e.backgroundColor,s=e.bgImageSrc,c=e.url,l=e.customClass,u=void 0===l?"masthead":l,d=this.props.styles,p=(0,E.c2)(t),m={};return p&&(m.backgroundImage='url("'.concat(t,'")')),d=d?d.toJSON():{backgroundColor:a},r.createElement("div",{className:"BannerTop3 ".concat(u)},r.createElement("a",{href:c,target:"_blank",onClick:o},r.createElement("div",{style:d,className:"BannerTop3-content BannerTop3-layer"},r.createElement("div",{style:{backgroundImage:'url("'.concat(s,'")')},className:"masthead-image"}),r.createElement("div",{style:m,className:"BannerTop3-description"},r.createElement("div",{className:"BannerTop3-headline BannerTop3-textOverflow"},!p&&t),r.createElement("div",{className:"BannerTop3-subhead"},n)),!(0,E.c2)(i)&&r.createElement("div",{className:"BannerTop3-buttonCTA"},i),(0,E.c2)(i)&&r.createElement("div",{className:"BannerTop3-buttonCTA-image",style:{backgroundImage:'url("'.concat(i,'")')}}),r.createElement("div",{className:"BannerTop3-buttonClose",onClick:this.onBannerClose},r.createElement(b.ZP,{name:b.pD,width:20})))))}}]),n}(r.Component);P.__docgenInfo={description:"",methods:[{name:"onBannerClose",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"Masthead",props:{headline:{type:{name:"string"},required:!0,description:""},subhead:{type:{name:"string"},required:!0,description:""},actionButtonText:{type:{name:"string"},required:!0,description:""},onClose:{type:{name:"func"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},url:{type:{name:"string"},required:!0,description:""},backgroundColor:{type:{name:"string"},required:!0,description:""},styles:{type:{name:"object"},required:!1,description:""},bgImageSrc:{type:{name:"string"},required:!1,description:""},customClass:{type:{name:"string"},required:!0,description:""},handleOnMount:{type:{name:"func"},required:!0,description:""}}};var q=n("JPcv"),N=n("moYt"),x=n.n(N),R=n("/MKj"),W=n("cr+I"),B=n("84kl"),_=n("txC3"),O=n("JCOJ"),j=n("l3te"),M=n("VeLT"),F=n("MHWf"),V=n("PzVL");function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var i=C()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y()(this,n)}}function Z(e){var t=e.ctas,n=e.ctasClosed,r=e.city,i=e.region,o=e.metroCode,a=e.countryCode,s=e.hasPaid,c=(new Date).getTime()/1e3;return t.filter((function(e){return e.get("startTime")<c&&e.get("endTime")>c&&!n.includes(e.get("localStorageName"))&&function(e,t,n,r,i){var o=e.get("targeting");if(!o||!o.size)return!0;if(!t)return!1;var a={region:r,city:n,metroCode:i};return o.filter((function(e,n){return x()(n)===t&&0===["region","city","metroCode"].filter((function(t){var n=e.get(t);return n&&n.size&&!n.filter((function(e){return e===a[t]})).size})).length})).size>0}(e,a,r,i,o)&&!(e.get("promoted")&&s)}))}function U(e){return-1!==e.customClass.indexOf("masthead")?r.createElement(P,e):r.createElement(function(e){function t(t){var n="blue"===t.theme?l:c;return r.createElement(e,s()({},t,n))}var n;return t.displayName="WithThemeStyle(".concat((n=e).displayName||n.name||"Component",")"),t}(k),e)}U.defaultProps={customClass:""},U.__docgenInfo={description:"",methods:[],displayName:"BannerTop",props:{customClass:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""}}};const z=(L=U,(K=function(e){h()(n,e);var t=H(n);function n(e){var r;return d()(this,n),r=t.call(this,e),A()(I()(r),"isSfw",(function(e){if(!e.get("sfw"))return!0;var t=r.state.sfw,n=r.props.currentPostInView;return!(!t||!n||!(0,_.FD)(n.get("adConfig"))&&(r.setState({sfw:!1}),1))})),A()(I()(r),"getForceCTAName",(function(){var e=r.props.queryString,t=W.parse(e).masthead;return t?(r.setState({forceCTA:t}),t):r.state.forceCTA})),A()(I()(r),"getForceCTAs",(function(){var e=r.getForceCTAName();return e?r.props.ctas.filter((function(t){return t.get("localStorageName")===e})):(0,q.List)()})),A()(I()(r),"getActiveCTA",(function(){var e=r.getForceCTAs(),t=r.props,n=t.ctas,i=t.ctaClosed;if(0===e.size&&(e=n.filter((function(e){return r.isSfw(e)}))),e.size>0&&!i)return e.get(Math.floor(r.random*e.size))})),A()(I()(r),"shouldHide",(function(){var e=r.props,t=e.currentPostInView,n=e.userHasEmerald,i=t&&t.get("adConfig");return!(!(0,F.Jz)()||(0,M.ax)((0,F.Jz)())!==O.Kg)||!(!i||(0,_.FD)(i))||!!n||t&&t.get("is_ad")})),A()(I()(r),"handleCtaClose",(function(e){return function(){(0,r.props.closeCTA)(e.get("localStorageName"),e.get("endTime"),e.get("promoted"))}})),A()(I()(r),"handleCtaClick",(function(e){return function(){(0,r.props.clickedCTA)(e.get("localStorageName"),e.get("promoted"))}})),A()(I()(r),"handleImgLoad",(function(e){var t=r.props.setCTASize,n=e.nativeEvent.srcElement;t(n.width,n.height)})),A()(I()(r),"onRender",(function(){var e=r.props,t=e.onStatusChange,n=e.viewedCTA,i=r.getActiveCTA();t(!0),n(i.get("localStorageName"),i.get("endTime"),i.get("promoted"),i.get("oncePerSession"))})),r.state={sfw:!0,forceCTA:""},r.random=Math.random(),r}return m()(n,[{key:"isCurrentPostChanged",value:function(e){var t=this.props,n=t.currentPostInView,r=t.isMobile;return!(n||!e.currentPostInView)||!(!n||!e.currentPostInView)&&(!r&&n.get("id")!==e.currentPostInView.get("id")||n.get("is_ad")!==e.currentPostInView.get("is_ad")||!(0,_.FD)(n.get("adConfig"))!=!(0,_.FD)(e.currentPostInView.get("adConfig")))}},{key:"componentDidMount",value:function(){if(this.props.ctaClosed||this.shouldHide())return null}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.ctaClosed,r=t.ctas;return n!==e.ctaClosed||this.isCurrentPostChanged(e)||r.size!==e.ctas.size}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.ctaClosed,r=t.onStatusChange,i=t.isMobile,o=t.closeCTASilently,a=t.currentPostInView;n!==e.ctaClosed&&r(n);var s=this.getActiveCTA();s&&(i||n||!(!a&&e.currentPostInView||a&&e.currentPostInView&&a.get("id")!==e.currentPostInView.get("id"))||o(s.get("localStorageName"),s.get("endTime"),s.get("promoted")))}},{key:"render",value:function(){if(this.props.ctaClosed||this.shouldHide())return null;var e=this.getActiveCTA();if(!e)return null;var t=e.get("backgroundImages"),n=t.get(Math.floor(Math.random()*t.size));return r.createElement(r.Fragment,null,r.createElement(L,{theme:e.get("theme")||"",headline:e.get("headline"),subhead:e.get("subhead"),actionButtonText:e.get("actionButtonText"),onClose:this.handleCtaClose(e),onClick:this.handleCtaClick(e),onImageLoad:this.handleImgLoad,url:e.get("url"),bgImageSrc:n,customClass:e.get("customClass"),backgroundColor:e.get("backgroundColor"),styles:e.get("styles"),handleOnMount:this.onRender}),e.get("pixels",[]).map((function(e){return r.createElement("img",{src:e,style:{display:"none"}})})))}}]),n}(r.Component)).displayName="WithCTA(".concat((J=L).displayName||J.name||"Component",")"),K.contextTypes={router:o().object},K.defaultProps={onStatusChange:function(){}},(0,R.$j)((function(e){var t=e.config,n=e.agent,r=e.posts,i=e.postsData,o=e.user;return{ctas:Z({ctas:t.get("ctas"),ctasClosed:t.get("ctasClosed"),city:n.get("city"),region:n.get("region"),metroCode:n.get("metroCode"),countryCode:n.get("countryCode"),hasPaid:o.get("hasPaid")||o.getIn(["subscription","isSubscribed"])}),ctaClosed:t.get("ctaClosed"),currentPostInView:r.get("posts").get(i.get("currentPostInView"))||i.get("currentPost"),isMobile:n.get(j.Jq),userHasEmerald:(0,V.iw)(o)}}),{closeCTA:B.Ut,closeCTASilently:B.Ib,setCTASize:B.yI,clickedCTA:B.HL,viewedCTA:B.pL})(K));var L,J,K},t9wu:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n("q1tI"),i=n("/MKj"),o=(n("17x9"),n("TSYQ")),a=n.n(o),s=n("MHWf"),c=n("puhG"),l=n("VGss");function u(e){var t=e.active,n=a()({ButtonBackToTop:!0,badge:!0,active:t});return r.createElement("a",{href:"#",className:n,onClick:function(){var e=(0,s.XO)();(0,s.X5)(-e,0,"smooth")}},r.createElement(l.ZP,{className:"badge-icon",name:l.uZ,width:"32",height:"32"}),r.createElement("span",{className:"badge-text"},(0,c.Z)("takeMeUp")))}u.defaultProps={active:!1,locationTop:!0},u.__docgenInfo={description:"",methods:[],displayName:"ButtonBackToTop",props:{active:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},locationTop:{defaultValue:{value:"true",computed:!1},required:!1}}};const d=(0,i.$j)((function(e){return{active:!e.ui.footer.get("isFooterVisible")}}))(u)},pPb0:(e,t,n)=>{n.d(t,{h7:()=>b});var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("7W2i"),c=n.n(s),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),m=n("pVnL"),f=n.n(m),h=n("q1tI"),g=(n("17x9"),n("/MKj")),y=n("mt+I");n("rZZl");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}function C(e){var t=e.statuses;return t.length?h.createElement("div",{className:"StatusList"},t.map((function(e){return h.createElement(k,f()({key:e.id},e))}))):null}var b=(0,g.$j)((function(e){return{statuses:e.status?e.status.get("status").filter((function(e){return e.get("active")})).valueSeq().toJS():[]}}))(C);var w=function(e){c()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.animationDelay;setTimeout((function(){(0,e.props.handleClearStatus)()}),t+3e3)}},{key:"render",value:function(){return h.createElement(S,this.props)}}]),n}(h.Component);w.defaultProps={animationDelay:0};var k=(0,g.$j)(null,(function(e,t){var n=t.id;return{handleClearStatus:function(){return e((0,y.vn)({id:n}))}}}))(w);function S(e){var t=e.type,n=e.message,r=e.handleClearStatus,i=e.animationDelay;return h.createElement("div",{className:"Status Status-".concat(t),onClick:r,style:{animationDelay:"".concat(i,"ms")}},h.createElement("div",{className:"Status-container",dangerouslySetInnerHTML:{__html:n}}))}S.defaultProps={animationDelay:0},C.__docgenInfo={description:"",methods:[],displayName:"StatusListContainer",props:{statuses:{type:{name:"array"},required:!1,description:""}}},w.__docgenInfo={description:"",methods:[],displayName:"StatusContainer",props:{animationDelay:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},statusType:{type:{name:"string"},required:!1,description:""},message:{type:{name:"string"},required:!1,description:""},id:{type:{name:"number"},required:!1,description:""},handleClearStatus:{type:{name:"func"},required:!1,description:""}}},S.__docgenInfo={description:"",methods:[],displayName:"Status",props:{animationDelay:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},type:{type:{name:"string"},required:!1,description:""},message:{type:{name:"string"},required:!1,description:""},id:{type:{name:"number"},required:!1,description:""},handleClearStatus:{type:{name:"func"},required:!1,description:""}}}},rZZl:()=>{}}]);